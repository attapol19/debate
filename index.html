<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Debate Timer 1-5-2 </title>
<style>
  :root{ --blue:#0b3b91; --red:#d10000; --orange:#ff8c00; }
  html, body { height: 100%; }
  body{
    margin:0;
    background:#fff;
    font-family: Arial, sans-serif;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:space-between;
    padding: 3vh 4vw 3vh;
    box-sizing: border-box;
  }

  .title{
    text-align:center;
    margin-top: 0.5vh;
  }
  .title .main{
    font-size: clamp(20px, 3.0vw, 40px);
    font-weight: 900;
    color: var(--blue);
  }
  .title .sub{
    font-size: clamp(13px, 2.0vw, 22px);
    font-weight: 700;
    color: #333;
    margin-top: 4px;
  }

  #timer{
    font-weight: 900;
    letter-spacing: 2px;
    color: var(--blue);
    line-height: 1;
    font-size: clamp(160px, 20vw, 460px);
    user-select:none;
  }
  .big10 #timer{
    color: var(--red);
    font-size: clamp(220px, 28vw, 560px);
  }

.controls button {
  font-size: 18px;
  padding: 8px 18px;
  border-radius: 8px;
  border: 1px solid #cfd8e3;
  background: #f7f9fc;
  color: #1e3a8a;
}

.controls button.primary {
  background: #2563eb;
  color: white;
  border: none;
}

.controls {
  opacity: 0.85;
}

</style>
</head>

<body id="wrap">

  <div class="title">
    <div class="main">ดีเบต ผู้สมัคร ส.ส.ตราด</div>
    <div class="sub">เวทีวิสัยทัศน์เพื่อเศรษฐกิจและอนาคตจังหวัดตราด</div>
  </div>

  <div id="timer">01:00</div>

  <div style="width:100%;">
    <div class="controls">
      <!-- ตั้งเวลา (รีเซ็ตอย่างเดียว ไม่เริ่มเดิน) -->
      <button onclick="setTime(60)">ตั้ง 1 นาที</button>
      <button onclick="setTime(300)">ตั้ง 5 นาที</button>
      <button onclick="setTime(120)">ตั้ง 2 นาที</button>

      <!-- ควบคุม -->
      <button class="primary" onclick="start()">เริ่ม</button>
      <button class="secondary" onclick="pause()">หยุด</button>
      <button class="secondary" onclick="reset()">รีเซ็ต</button>
    </div>
  </div>

<audio id="warn30" src="warn30.mp3"></audio>
<audio id="end" src="end.mp3"></audio>

<script>
let total = 60;
let interval = null;
let warned30 = false;

const el = document.getElementById("timer");
const warn30 = document.getElementById("warn30");
const end = document.getElementById("end");

function render() {
  let m = Math.floor(total / 60);
  let s = total % 60;
  el.textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;

  // เปลี่ยนสีเมื่อใกล้หมดเวลา
  if (total <= 10) {
    el.style.color = "#d32f2f"; // แดง
  } else {
    el.style.color = "#0d47a1"; // น้ำเงิน
  }

  // เตือนครั้งเดียวตอนเหลือ 30 วิ
  if (total === 30 && !warned30) {
    warn30.currentTime = 0;
    warn30.play();
    warned30 = true;
  }

  if (total === 0) {
    clearInterval(interval);
    end.currentTime = 0;
    end.play();
  }
}

function setTime(sec) {
  clearInterval(interval);
  total = sec;
  warned30 = false;
  render();
}

function start() {
  clearInterval(interval);
  interval = setInterval(() => {
    if (total > 0) {
      total--;
      render();
    }
  }, 1000);
}

function pause() {
  clearInterval(interval);
}

function reset() {
  clearInterval(interval);
  render();
}
</script>


</body>
</html>




